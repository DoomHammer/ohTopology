// test network is populated with 4 devices
expect Group Added		Kitchen:Sneaky Music DS
expect ===============================================
expect 0. Playlist Playlist True
expect 1. Radio Radio True
expect 2. UPnP AV UpnpAv False
expect 3. Songcast Receiver True
expect 4. Net Aux NetAux False
expect ===============================================
expect Group Added		Sitting Room:Klimax DSM
expect ===============================================
expect 0. Playlist Playlist True
expect 1. Radio Radio True
expect 2. UPnP AV UpnpAv False
expect 3. Songcast Receiver True
expect 4. Net Aux NetAux False
expect 5. Analog1 Analog True
expect 6. Analog2 Analog True
expect 7. Phono Analog True
expect 8. SPDIF1 Digital True
expect 9. SPDIF2 Digital True
expect 10. TOSLINK1 Digital True
expect 11. TOSLINK2 Digital True
expect ===============================================
expect Group Added		Bedroom:Kiko DSM
expect ===============================================
expect 0. Playlist Playlist True
expect 1. Radio Radio True
expect 2. UPnP AV UpnpAv False
expect 3. Songcast Receiver True
expect 4. Net Aux NetAux False
expect 5. Analog1 Analog True
expect 6. Analog2 Analog True
expect 7. Phono Analog True
expect 8. SPDIF1 Digital True
expect 9. SPDIF2 Digital True
expect 10. TOSLINK1 Digital True
expect 11. TOSLINK2 Digital True
expect ===============================================
expect Group Added		Dining Room:Majik DS
expect ===============================================
expect 0. Playlist Playlist True
expect 1. Radio Radio True
expect 2. UPnP AV UpnpAv False
expect 3. Songcast Receiver True
expect 4. Net Aux NetAux False
expect ===============================================
expect empty

// test group is added when ds appears on network
mock network add ds 67
expect Group Added		Main Room:Mock DS
expect ===============================================
expect 0. Playlist Playlist True
expect 1. Radio Radio True
expect 2. UPnP AV UpnpAv False
expect 3. Songcast Receiver True
expect 4. Net Aux NetAux False
expect ===============================================
expect empty

// test group room name changes
mock network update ds 67 product room Bathroom
expect Room(67) changed from Main Room to Bathroom
expect empty

// test group name changes
mock network update ds 67 product name Majik DS
expect Name(67) changed from Mock DS to Majik DS
expect empty

// test group standby changes
mock network update ds 67 product standby false
expect Standby(67) changed from True to False
expect empty

// test group source index changes
mock network update ds 67 product sourceindex 2
expect SourceIndex(67) changed from 0 to 2
expect empty

// test group source name changes
mock network update ds 67 product source 0 name My Playlist
expect 0. Playlist Playlist True -> My Playlist Playlist True
expect 1. Radio Radio True -> Radio Radio True
expect 2. UPnP AV UpnpAv False -> UPnP AV UpnpAv False
expect 3. Songcast Receiver True -> Songcast Receiver True
expect 4. Net Aux NetAux False -> Net Aux NetAux False
expect empty

// test group source visible changes
mock network update ds 67 product source 4 visible true
expect 0. My Playlist Playlist True -> My Playlist Playlist True
expect 1. Radio Radio True -> Radio Radio True
expect 2. UPnP AV UpnpAv False -> UPnP AV UpnpAv False
expect 3. Songcast Receiver True -> Songcast Receiver True
expect 4. Net Aux NetAux False -> Net Aux NetAux True
expect empty

// test group is removed when ds disappears from network
mock network remove ds 67
expect Group Removed		Bathroom:Majik DS
expect empty

exit