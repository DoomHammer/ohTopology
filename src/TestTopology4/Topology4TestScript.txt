// test network is populated with 4 devices
expect Room Added Kitchen
expect Standby(Kitchen): eOn
expect Added: 0: Group=Sneaky Music DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1111-ef000004013f, Volume=4c494e4e-0026-0f99-1111-ef000004013f 
expect Added: 1: Group=Sneaky Music DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1111-ef000004013f, Volume=4c494e4e-0026-0f99-1111-ef000004013f 
expect Added: 3: Group=Sneaky Music DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1111-ef000004013f, Volume=4c494e4e-0026-0f99-1111-ef000004013f 
expect Current: 0: Group=Sneaky Music DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1111-ef000004013f, Volume=4c494e4e-0026-0f99-1111-ef000004013f 
expect Room Added Sitting Room
expect Standby(Sitting Room): eOn
expect Added: 0: Group=Klimax DSM, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 1: Group=Klimax DSM, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 3: Group=Klimax DSM, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 5: Group=Klimax DSM, Name=Analog1, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 6: Group=Klimax DSM, Name=Analog2, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 7: Group=Klimax DSM, Name=Phono, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 8: Group=Klimax DSM, Name=SPDIF1, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 9: Group=Klimax DSM, Name=SPDIF2, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 10: Group=Klimax DSM, Name=TOSLINK1, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Added: 11: Group=Klimax DSM, Name=TOSLINK2, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Current: 0: Group=Klimax DSM, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1112-ef000004013f, Volume=4c494e4e-0026-0f99-1112-ef000004013f 
expect Room Added Bedroom
expect Standby(Bedroom): eOn
expect Added: 0: Group=Kiko DSM, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 1: Group=Kiko DSM, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 3: Group=Kiko DSM, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 5: Group=Kiko DSM, Name=Analog1, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 6: Group=Kiko DSM, Name=Analog2, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 7: Group=Kiko DSM, Name=Phono, Type=Analog, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 8: Group=Kiko DSM, Name=SPDIF1, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 9: Group=Kiko DSM, Name=SPDIF2, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 10: Group=Kiko DSM, Name=TOSLINK1, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Added: 11: Group=Kiko DSM, Name=TOSLINK2, Type=Digital, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Current: 0: Group=Kiko DSM, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1113-ef000004013f, Volume=4c494e4e-0026-0f99-1113-ef000004013f 
expect Room Added Dining Room
expect Standby(Dining Room): eOn
expect Added: 0: Group=Majik DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1114-ef000004013f, Volume=4c494e4e-0026-0f99-1114-ef000004013f 
expect Added: 1: Group=Majik DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1114-ef000004013f, Volume=4c494e4e-0026-0f99-1114-ef000004013f 
expect Added: 3: Group=Majik DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1114-ef000004013f, Volume=4c494e4e-0026-0f99-1114-ef000004013f 
expect Current: 0: Group=Majik DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=4c494e4e-0026-0f99-1114-ef000004013f, Volume=4c494e4e-0026-0f99-1114-ef000004013f 
empty

// test sources are add when ds appears on the network
mock network add ds 67
expect Room Added Main Room
expect Standby(Main Room): eOn
expect Added: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Added: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Added: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test source are removed when ds disappears on the network
mock network remove ds 67
expect Room Removed Main Room
expect Removed: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Removed: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Removed: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test changing standby state for a single product in a room
mock network add ds 67
expect Room Added Main Room
expect Standby(Main Room): eOn
expect Added: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Added: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Added: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
mock network update ds 67 product standby false
expect Standby(Main Room): eOn -> eOff
empty
mock network update ds 67 product standby true
expect Standby(Main Room): eOff -> eOn
empty

// test changing standby state for a two products in a room
mock network add ds 68
expect Current: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty
mock network update ds 67 product standby false
expect Standby(Main Room): eOn -> eMixed
empty
mock network update ds 68 product standby false
expect Standby(Main Room): eMixed -> eOff
empty
mock network update ds 68 product standby true
expect Standby(Main Room): eOff -> eMixed
empty
mock network update ds 67 product standby true
expect Standby(Main Room): eMixed -> eOn
empty

// test linking ds 68 to ds 67
mock network update ds 68 product name Test
expect Current: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
mock network update ds 67 product source 0 name Test
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test toggling Mock DS source visibility
mock network update ds 67 product source 0 visible false
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
mock network update ds 67 product source 0 visible true
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test toggling Test source visibility
mock network update ds 68 product source 1 visible false
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
mock network update ds 68 product source 1 visible true
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// change ds 68's selected source
mock network update ds 68 product sourceindex 1
expect Current Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
empty
mock network update ds 68 product sourceindex 2
expect Current Updated: 2: Group=Test, Name=UPnP AV, Type=UpnpAv, Visible=False, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
empty
mock network update ds 68 product sourceindex 3
expect Current Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
empty

// change ds 67's selected source
mock network update ds 67 product sourceindex 1
expect Current Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
mock network update ds 67 product sourceindex 2
expect Current Updated: 2: Group=Mock DS, Name=UPnP AV, Type=UpnpAv, Visible=False, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
mock network update ds 67 product sourceindex 3
expect Current Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test current source is not updated when changing ds 68's source index when ds 67's source index has not been expanded by ds 68's sources
mock network update ds 68 product sourceindex 0
empty

// test breaking link by changing ds 68's name
mock network update ds 68 product name My DS
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=My DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Mock DS, Name=Test, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=My DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=My DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=My DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty

// test reforming the link by changing ds 68's name - note that the Current source of the root is not updated
// because this change causes there to be 1 root (ds 67) and its source index is not expanded
mock network update ds 68 product name Test
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// test breaking the link by changing ds 67's source name
mock network update ds 67 product source 0 name Playlist
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Mock DS, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty

// reform link of 67 and 68
mock network update ds 67 product source 0 name Test
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

mock network remove ds 67
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty

// remove Time service for 67
mock network update ds 67 product attributes Info Volume Sender
empty

mock network add ds 67
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=False, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=False, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=False, Device=67, Volume=67 
empty

mock network remove ds 67
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty

// remove Info service from 67
mock network update ds 67 product attributes Volume Sender
empty

mock network add ds 67
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=False, HasTime=False, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=False, HasTime=False, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=False, HasTime=False, Device=67, Volume=67 
empty

mock network remove ds 67
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
empty

// re-add Info and Time services and remove Volume service from 67
mock network update ds 67 product attributes Info Time Sender
empty

mock network add ds 67
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
empty

mock network remove ds 68
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 0: Group=Mock DS, Name=Test, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
empty

// remove Volume service from 68
mock network update ds 68 product attributes Info Time Sender
empty

mock network add ds 68
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=
empty

mock network remove ds 67
expect Current: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=
empty

// add Volume service to 67
mock network update ds 67 product attributes Info Time Volume Sender
empty

mock network add ds 67
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

mock network remove ds 68
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Mock DS, Name=Test, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty

// add Volume service to 68
mock network update ds 68 product attributes Info Time Volume Sender
empty

mock network add ds 68
expect Current: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 0: Group=Test, Name=Playlist, Type=Playlist, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Test, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 3: Group=Test, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=68, Volume=67 68 
expect Updated: 1: Group=Mock DS, Name=Radio, Type=Radio, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
expect Updated: 3: Group=Mock DS, Name=Songcast, Type=Receiver, Visible=True, HasInfo=True, HasTime=True, Device=67, Volume=67 
empty
