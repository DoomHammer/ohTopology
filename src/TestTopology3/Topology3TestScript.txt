// setup type of network
mock network medium

// test network is populated with 4 devices
expect Room Added Kitchen
expect Group Added Kitchen:Sneaky Music DS
expect Room Added Sitting Room
expect Group Added Sitting Room:Klimax DSM
expect Room Added Bedroom
expect Group Added Bedroom:Kiko DSM
expect Room Added Dining Room
expect Group Added Dining Room:Majik DS
empty

// test room and group is added when ds appears on network
mock network add ds 67
expect Room Added Main Room
expect Group Added Main Room:Mock DS
empty

// test group moves room when room name changes
mock network update ds 67 product room Bathroom
expect Group Removed Main Room:Mock DS
expect Room Removed Main Room
expect Room Added Bathroom
expect Group Added Bathroom:Mock DS
empty

// test group is added to existing room and no new room is created
mock network add ds 68
expect Room Added Main Room
expect Group Added Main Room:Mock DS
empty
mock network update ds 68 product room Bathroom
expect Group Removed Main Room:Mock DS
expect Room Removed Main Room
expect Group Added Bathroom:Mock DS
empty

// test room is remove when last group is removed
mock network remove ds 67
expect Group Removed Bathroom:Mock DS
mock network remove ds 68
expect Group Removed Bathroom:Mock DS
expect Room Removed Bathroom
empty
